{"ast":null,"code":"import { createSlice } from \"@reduxjs/toolkit\";\nimport axios from \"axios\";\nconst initialState = {\n  kittens: [],\n  kitten: null,\n  applicants: [],\n  error: {},\n  loading: true\n};\nconst kittenSlice = createSlice({\n  name: \"kitten\",\n  initialState,\n  reducers: {\n    getKittensSuccess(state, action) {\n      state.kittens = action.payload;\n      state.loading = false;\n    },\n    addKittenSuccess(state, action) {\n      state.kittens.unshift(action.payload);\n      state.loading = false;\n    },\n    deleteKittenSuccess(state, action) {\n      const updatedKittens = state.kittens.filter(kitten => kitten._id !== action.payload);\n      state.kittens = updatedKittens;\n      state.loading = false;\n    },\n    updateKittenSuccess(state, action) {\n      state.kittens = state.kittens.map(kitten => kitten._id === action.payload._id ? action.payload : kitten);\n      state.loading = false;\n    },\n    profileError(state, action) {\n      state.error = action.payload;\n      state.loading = false;\n    }\n  }\n});\nexport const {\n  getKittensSuccess,\n  addKittenSuccess,\n  deleteKittenSuccess,\n  updateKittenSuccess,\n  profileError\n} = kittenSlice.actions;\nexport const getKittens = () => async dispatch => {\n  try {\n    const res = await axios.get(\"/api/profile/kittens\");\n    dispatch(getKittensSuccess(res.data));\n  } catch (error) {\n    dispatch(profileError(error.response.data));\n    console.log(error.response.data);\n  }\n};\nexport const addKitten = kittenData => async dispatch => {\n  try {\n    const res = await axios.post(\"/api/profile/kittens\", kittenData);\n    dispatch(addKittenSuccess(res.data));\n  } catch (error) {\n    dispatch(profileError(error.response.data));\n    console.log(error.response.data);\n  }\n};\nexport const deleteKitten = kittenId => async dispatch => {\n  try {\n    await axios.delete(`/api/profile/kittens/${kittenId}`);\n    dispatch(deleteKittenSuccess(kittenId));\n  } catch (error) {\n    dispatch(profileError(error.response.data));\n    console.log(error.response.data);\n  }\n};\nexport const updateKitten = (kittenId, kittenData) => async dispatch => {\n  try {\n    const res = await axios.put(`/api/profile/kittens/${kittenId}`, kittenData);\n    dispatch(updateKittenSuccess(res.data));\n  } catch (error) {\n    dispatch(profileError(error.response.data));\n    console.log(error.response.data);\n  }\n};\nexport default kittenSlice.reducer;","map":{"version":3,"names":["createSlice","axios","initialState","kittens","kitten","applicants","error","loading","kittenSlice","name","reducers","getKittensSuccess","state","action","payload","addKittenSuccess","unshift","deleteKittenSuccess","updatedKittens","filter","_id","updateKittenSuccess","map","profileError","actions","getKittens","dispatch","res","get","data","response","console","log","addKitten","kittenData","post","deleteKitten","kittenId","delete","updateKitten","put","reducer"],"sources":["C:/Users/wangz/OneDrive/文档/GitHub/Kitten/frontend/src/Redux/Reducers/KittenSlice.js"],"sourcesContent":["import { createSlice } from \"@reduxjs/toolkit\";\r\nimport axios from \"axios\";\r\n\r\nconst initialState = {\r\n  kittens: [],\r\n  kitten: null,\r\n  applicants: [],\r\n  error: {},\r\n  loading: true,\r\n};\r\n\r\nconst kittenSlice = createSlice({\r\n  name: \"kitten\",\r\n  initialState,\r\n  reducers: {\r\n    getKittensSuccess(state, action) {\r\n      state.kittens = action.payload;\r\n      state.loading = false;\r\n    },\r\n    addKittenSuccess(state, action) {\r\n      state.kittens.unshift(action.payload);\r\n      state.loading = false;\r\n    },\r\n    deleteKittenSuccess(state, action) {\r\n      const updatedKittens = state.kittens.filter(\r\n        (kitten) => kitten._id !== action.payload\r\n      );\r\n      state.kittens = updatedKittens;\r\n      state.loading = false;\r\n    },\r\n    updateKittenSuccess(state, action) {\r\n      state.kittens = state.kittens.map((kitten) =>\r\n        kitten._id === action.payload._id ? action.payload : kitten\r\n      );\r\n      state.loading = false;\r\n    },\r\n    profileError(state, action) {\r\n      state.error = action.payload;\r\n      state.loading = false;\r\n    },\r\n  },\r\n});\r\n\r\nexport const {\r\n  getKittensSuccess,\r\n  addKittenSuccess,\r\n  deleteKittenSuccess,\r\n  updateKittenSuccess,\r\n  profileError,\r\n} = kittenSlice.actions;\r\n\r\nexport const getKittens = () => async (dispatch) => {\r\n  try {\r\n    const res = await axios.get(\"/api/profile/kittens\");\r\n    dispatch(getKittensSuccess(res.data));\r\n  } catch (error) {\r\n    dispatch(profileError(error.response.data));\r\n    console.log(error.response.data);\r\n  }\r\n};\r\n\r\nexport const addKitten = (kittenData) => async (dispatch) => {\r\n  try {\r\n    const res = await axios.post(\"/api/profile/kittens\", kittenData);\r\n    dispatch(addKittenSuccess(res.data));\r\n  } catch (error) {\r\n    dispatch(profileError(error.response.data));\r\n    console.log(error.response.data);\r\n  }\r\n};\r\n\r\nexport const deleteKitten = (kittenId) => async (dispatch) => {\r\n  try {\r\n    await axios.delete(`/api/profile/kittens/${kittenId}`);\r\n    dispatch(deleteKittenSuccess(kittenId));\r\n  } catch (error) {\r\n    dispatch(profileError(error.response.data));\r\n    console.log(error.response.data);\r\n  }\r\n};\r\n\r\nexport const updateKitten = (kittenId, kittenData) => async (dispatch) => {\r\n  try {\r\n    const res = await axios.put(`/api/profile/kittens/${kittenId}`, kittenData);\r\n    dispatch(updateKittenSuccess(res.data));\r\n  } catch (error) {\r\n    dispatch(profileError(error.response.data));\r\n    console.log(error.response.data);\r\n  }\r\n};\r\n\r\nexport default kittenSlice.reducer;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}