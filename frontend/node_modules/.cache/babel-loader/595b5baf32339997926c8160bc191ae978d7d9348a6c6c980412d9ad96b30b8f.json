{"ast":null,"code":"import { createSlice } from \"@reduxjs/toolkit\";\nimport axios from \"axios\";\nconst initialState = {\n  userProfiles: [],\n  // Array to store user profiles\n  userProfile: null,\n  // Single user profile\n  loading: true,\n  error: {}\n};\nconst userProfileSlice = createSlice({\n  name: \"userProfile\",\n  initialState,\n  reducers: {\n    getUserProfileSuccess(state, action) {\n      state.userProfile = action.payload;\n      state.loading = false;\n    },\n    getUserProfilesSuccess(state, action) {\n      state.userProfiles = action.payload;\n      state.loading = false;\n    },\n    updateUserProfileSuccess(state, action) {\n      state.userProfile = action.payload;\n      state.loading = false;\n    },\n    clearUserProfile(state) {\n      state.userProfile = null;\n      state.loading = true;\n      state.error = {};\n    },\n    userProfileError(state, action) {\n      state.error = action.payload;\n      state.loading = false;\n    }\n  }\n});\nexport const {\n  getUserProfileSuccess,\n  getUserProfilesSuccess,\n  updateUserProfileSuccess,\n  clearUserProfile,\n  userProfileError\n} = userProfileSlice.actions;\nexport const getUserProfile = userId => async dispatch => {\n  try {\n    const res = await axios.get(`/api/profile/user/${userId}`);\n    dispatch(getUserProfileSuccess(res.data));\n    console.log(\"res: \", res);\n  } catch (error) {\n    dispatch(userProfileError(error.response.data));\n    console.log(error.response.data);\n  }\n};\nexport const getUserProfiles = () => async dispatch => {\n  try {\n    const res = await axios.get(\"/api/profile\");\n    dispatch(getUserProfilesSuccess(res.data));\n  } catch (error) {\n    dispatch(userProfileError(error.response.data));\n    console.log(error.response.data);\n  }\n};\nexport const updateUserProfile = userData => async dispatch => {\n  try {\n    const res = await axios.post(\"/api/profile\", userData);\n    dispatch(updateUserProfileSuccess(res.data));\n  } catch (error) {\n    dispatch(userProfileError(error.response.data));\n    console.log(error.response.data);\n  }\n};\nexport const deleteUserProfile = () => async dispatch => {\n  try {\n    await axios.delete(\"/api/profile\");\n    dispatch(clearUserProfile());\n  } catch (error) {\n    dispatch(userProfileError(error.response.data));\n    console.log(error.response.data);\n  }\n};\nexport default userProfileSlice.reducer;","map":{"version":3,"names":["createSlice","axios","initialState","userProfiles","userProfile","loading","error","userProfileSlice","name","reducers","getUserProfileSuccess","state","action","payload","getUserProfilesSuccess","updateUserProfileSuccess","clearUserProfile","userProfileError","actions","getUserProfile","userId","dispatch","res","get","data","console","log","response","getUserProfiles","updateUserProfile","userData","post","deleteUserProfile","delete","reducer"],"sources":["C:/Users/wangz/OneDrive/文档/GitHub/Kitten/frontend/src/Redux/Reducers/ProfileSlice.js"],"sourcesContent":["import { createSlice } from \"@reduxjs/toolkit\";\r\nimport axios from \"axios\";\r\n\r\nconst initialState = {\r\n  userProfiles: [], // Array to store user profiles\r\n  userProfile: null, // Single user profile\r\n  loading: true,\r\n  error: {},\r\n};\r\n\r\nconst userProfileSlice = createSlice({\r\n  name: \"userProfile\",\r\n  initialState,\r\n  reducers: {\r\n    getUserProfileSuccess(state, action) {\r\n      state.userProfile = action.payload;\r\n      state.loading = false;\r\n    },\r\n    getUserProfilesSuccess(state, action) {\r\n      state.userProfiles = action.payload;\r\n      state.loading = false;\r\n    },\r\n    updateUserProfileSuccess(state, action) {\r\n      state.userProfile = action.payload;\r\n      state.loading = false;\r\n    },\r\n    clearUserProfile(state) {\r\n      state.userProfile = null;\r\n      state.loading = true;\r\n      state.error = {};\r\n    },\r\n    userProfileError(state, action) {\r\n      state.error = action.payload;\r\n      state.loading = false;\r\n    },\r\n  },\r\n});\r\n\r\nexport const {\r\n  getUserProfileSuccess,\r\n  getUserProfilesSuccess,\r\n  updateUserProfileSuccess,\r\n  clearUserProfile,\r\n  userProfileError,\r\n} = userProfileSlice.actions;\r\n\r\nexport const getUserProfile = (userId) => async (dispatch) => {\r\n  try {\r\n    const res = await axios.get(`/api/profile/user/${userId}`);\r\n    dispatch(getUserProfileSuccess(res.data));\r\n    console.log(\"res: \",res)\r\n  } catch (error) {\r\n    dispatch(userProfileError(error.response.data));\r\n    console.log(error.response.data);\r\n  }\r\n};\r\n\r\nexport const getUserProfiles = () => async (dispatch) => {\r\n  try {\r\n    const res = await axios.get(\"/api/profile\");\r\n    dispatch(getUserProfilesSuccess(res.data));\r\n  } catch (error) {\r\n    dispatch(userProfileError(error.response.data));\r\n    console.log(error.response.data);\r\n  }\r\n};\r\n\r\nexport const updateUserProfile = (userData) => async (dispatch) => {\r\n  try {\r\n    const res = await axios.post(\"/api/profile\", userData);\r\n    dispatch(updateUserProfileSuccess(res.data));\r\n  } catch (error) {\r\n    dispatch(userProfileError(error.response.data));\r\n    console.log(error.response.data);\r\n  }\r\n};\r\n\r\nexport const deleteUserProfile = () => async (dispatch) => {\r\n  try {\r\n    await axios.delete(\"/api/profile\");\r\n    dispatch(clearUserProfile());\r\n  } catch (error) {\r\n    dispatch(userProfileError(error.response.data));\r\n    console.log(error.response.data);\r\n  }\r\n};\r\n\r\nexport default userProfileSlice.reducer;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}