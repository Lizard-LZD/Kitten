{"ast":null,"code":"import { createSlice } from \"@reduxjs/toolkit\";\nimport axios from \"axios\";\nconst initialState = {\n  adoptions: [],\n  loading: true\n};\nconst adoptionSlice = createSlice({\n  name: \"adoption\",\n  initialState,\n  reducers: {\n    getAdoptionsSuccess(state, action) {\n      state.adoptions = action.payload;\n      state.loading = false;\n    },\n    adoptionError(state, action) {\n      state.loading = false;\n    }\n  }\n});\nexport const {\n  getAdoptionsSuccess,\n  adoptionError\n} = adoptionSlice.actions;\nexport const getAdoptions = () => async dispatch => {\n  try {\n    const res = await axios.get(\"/api/adoptions\");\n    dispatch(getAdoptionsSuccess(res.data));\n  } catch (error) {\n    dispatch(adoptionError());\n    console.log(error);\n  }\n};\nexport const createAdoptionRequest = (adoptionId, emailContent) => async dispatch => {\n  const formData = {\n    emailContent\n  };\n  try {\n    const res = await axios.post(`/api/adoptions/${adoptionId}/request`, formData);\n    // You can dispatch an action to update the state if needed\n  } catch (error) {\n    dispatch(adoptionError());\n    console.log(error);\n  }\n};\nexport default adoptionSlice.reducer;","map":{"version":3,"names":["createSlice","axios","initialState","adoptions","loading","adoptionSlice","name","reducers","getAdoptionsSuccess","state","action","payload","adoptionError","actions","getAdoptions","dispatch","res","get","data","error","console","log","createAdoptionRequest","adoptionId","emailContent","formData","post","reducer"],"sources":["C:/Users/wangz/OneDrive/文档/GitHub/Kitten/frontend/src/Redux/Reducers/AdoptionSlice.js"],"sourcesContent":["import { createSlice } from \"@reduxjs/toolkit\";\r\nimport axios from \"axios\";\r\n\r\nconst initialState = {\r\n  adoptions: [],\r\n  loading: true,\r\n};\r\n\r\nconst adoptionSlice = createSlice({\r\n  name: \"adoption\",\r\n  initialState,\r\n  reducers: {\r\n    getAdoptionsSuccess(state, action) {\r\n      state.adoptions = action.payload;\r\n      state.loading = false;\r\n    },\r\n    adoptionError(state, action) {\r\n      state.loading = false;\r\n    },\r\n  },\r\n});\r\n\r\nexport const { getAdoptionsSuccess, adoptionError } = adoptionSlice.actions;\r\n\r\nexport const getAdoptions = () => async (dispatch) => {\r\n  try {\r\n    const res = await axios.get(\"/api/adoptions\");\r\n    dispatch(getAdoptionsSuccess(res.data));\r\n  } catch (error) {\r\n    dispatch(adoptionError());\r\n    console.log(error);\r\n  }\r\n};\r\n\r\nexport const createAdoptionRequest = (adoptionId, emailContent) => async (\r\n  dispatch\r\n) => {\r\n  const formData = { emailContent };\r\n\r\n  try {\r\n    const res = await axios.post(`/api/adoptions/${adoptionId}/request`, formData);\r\n    // You can dispatch an action to update the state if needed\r\n  } catch (error) {\r\n    dispatch(adoptionError());\r\n    console.log(error);\r\n  }\r\n};\r\n\r\nexport default adoptionSlice.reducer;\r\n"],"mappings":"AAAA,SAASA,WAAW,QAAQ,kBAAkB;AAC9C,OAAOC,KAAK,MAAM,OAAO;AAEzB,MAAMC,YAAY,GAAG;EACnBC,SAAS,EAAE,EAAE;EACbC,OAAO,EAAE;AACX,CAAC;AAED,MAAMC,aAAa,GAAGL,WAAW,CAAC;EAChCM,IAAI,EAAE,UAAU;EAChBJ,YAAY;EACZK,QAAQ,EAAE;IACRC,mBAAmBA,CAACC,KAAK,EAAEC,MAAM,EAAE;MACjCD,KAAK,CAACN,SAAS,GAAGO,MAAM,CAACC,OAAO;MAChCF,KAAK,CAACL,OAAO,GAAG,KAAK;IACvB,CAAC;IACDQ,aAAaA,CAACH,KAAK,EAAEC,MAAM,EAAE;MAC3BD,KAAK,CAACL,OAAO,GAAG,KAAK;IACvB;EACF;AACF,CAAC,CAAC;AAEF,OAAO,MAAM;EAAEI,mBAAmB;EAAEI;AAAc,CAAC,GAAGP,aAAa,CAACQ,OAAO;AAE3E,OAAO,MAAMC,YAAY,GAAGA,CAAA,KAAM,MAAOC,QAAQ,IAAK;EACpD,IAAI;IACF,MAAMC,GAAG,GAAG,MAAMf,KAAK,CAACgB,GAAG,CAAC,gBAAgB,CAAC;IAC7CF,QAAQ,CAACP,mBAAmB,CAACQ,GAAG,CAACE,IAAI,CAAC,CAAC;EACzC,CAAC,CAAC,OAAOC,KAAK,EAAE;IACdJ,QAAQ,CAACH,aAAa,CAAC,CAAC,CAAC;IACzBQ,OAAO,CAACC,GAAG,CAACF,KAAK,CAAC;EACpB;AACF,CAAC;AAED,OAAO,MAAMG,qBAAqB,GAAGA,CAACC,UAAU,EAAEC,YAAY,KAAK,MACjET,QAAQ,IACL;EACH,MAAMU,QAAQ,GAAG;IAAED;EAAa,CAAC;EAEjC,IAAI;IACF,MAAMR,GAAG,GAAG,MAAMf,KAAK,CAACyB,IAAI,CAAE,kBAAiBH,UAAW,UAAS,EAAEE,QAAQ,CAAC;IAC9E;EACF,CAAC,CAAC,OAAON,KAAK,EAAE;IACdJ,QAAQ,CAACH,aAAa,CAAC,CAAC,CAAC;IACzBQ,OAAO,CAACC,GAAG,CAACF,KAAK,CAAC;EACpB;AACF,CAAC;AAED,eAAed,aAAa,CAACsB,OAAO"},"metadata":{},"sourceType":"module","externalDependencies":[]}